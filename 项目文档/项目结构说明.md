# XPanel 项目结构说明

## 项目概述

XPanel 是一个基于 .NET 8.0 和 WinForms 的插件化管理面板系统，支持动态加载插件，提供可视化的插件管理功能。

## 目录结构

```
XPanel/
├── MainAPP/                          # 主程序目录
│   ├── Forms/                        # 窗体文件
│   │   ├── MainForm.cs              # 主窗体
│   │   ├── MainForm.Designer.cs     # 主窗体设计器文件
│   │   └── MainForm.resx            # 主窗体资源文件
│   ├── Layout/                       # UI布局管理
│   │   └── UILayoutBuilder.cs       # UI布局构建器
│   ├── Panels/                       # 内置面板
│   │   ├── AboutPanel.cs            # 关于面板
│   │   ├── SettingsPanel.cs         # 设置面板
│   │   └── PluginManagerPanel.cs    # 插件管理面板
│   ├── Plugins/                      # 插件管理
│   │   ├── PluginLoader.cs          # 插件加载器
│   │   └── XPluginManager.cs        # 插件管理器
│   ├── Registry/                     # 面板注册
│   │   └── PanelRegistry.cs         # 面板注册管理器
│   ├── Tabs/                         # 标签页管理
│   │   └── TabManager.cs            # 标签页管理器
│   ├── Program.cs                    # 程序入口点
│   └── XPanel.csproj                 # 主项目文件
├── XPluginInterface/                 # 插件接口项目
│   ├── IXPanelInterface.cs          # 面板插件接口
│   ├── IServerPlugin.cs             # 服务插件接口
│   ├── logs/                         # 日志工具
│   └── XPluginInterface.csproj      # 插件接口项目文件
├── XPluginSample/                    # 插件示例项目
│   ├── SamplePlugin.cs              # 示例插件实现
│   └── XPluginSample.csproj         # 示例插件项目文件
├── 项目文档/                         # 项目文档目录
│   ├── README.md                     # 项目说明文档
│   ├── 使用说明.md                   # 使用说明文档
│   ├── 项目结构说明.md               # 本文档
│   └── 开发规范.md                   # 开发规范文档
├── XPanel.sln                        # 解决方案文件
├── XPanel.sln.DotSettings.user      # Rider设置文件
├── Directory.Build.props             # 构建属性文件
├── global.json                       # .NET版本配置
├── bin/                              # 编译输出目录
└── obj/                              # 编译临时文件目录
```

## 项目组件说明

### 1. MainAPP - 主程序

主程序包含了应用程序的核心功能：

- **Forms**: 包含主窗体和相关的UI组件
- **Layout**: UI布局管理，负责构建主界面结构
- **Panels**: 内置的功能面板，如设置、关于、插件管理等
- **Plugins**: 插件系统的核心，负责插件的加载、管理和生命周期
- **Registry**: 面板注册系统，管理所有可用的面板
- **Tabs**: 标签页管理，提供多标签页界面支持

### 2. XPluginInterface - 插件接口

定义了插件系统的标准接口：

- **IXPanelInterface**: 面板插件接口，用于创建UI面板
- **IServerPlugin**: 服务插件接口，用于后台服务功能
- **logs**: 日志工具，为插件提供日志记录功能

### 3. XPluginSample - 插件示例

提供了一个完整的插件实现示例，展示如何开发XPanel插件。

### 4. 项目文档

包含项目的所有文档，包括使用说明、开发规范等。

## 命名空间结构

- `XPanel`: 主程序命名空间
  - `XPanel.Forms`: 窗体相关
  - `XPanel.Layout`: 布局管理
  - `XPanel.Panels`: 面板组件
  - `XPanel.Plugins`: 插件管理
  - `XPanel.Registry`: 注册管理
  - `XPanel.Tabs`: 标签页管理
- `XPlugin`: 插件接口命名空间
- `XPluginSample`: 示例插件命名空间

## 编译和运行

### 编译项目
```bash
dotnet build
```

### 运行主程序
```bash
dotnet run --project MainAPP
```

### 编译插件示例
```bash
dotnet build XPluginSample
```

## 插件目录

运行时插件目录位于主程序的 `XPlugin/` 文件夹中，所有以 `XPlugin*.dll` 命名的文件都会被自动加载为插件。
